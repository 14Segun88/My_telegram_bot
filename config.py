# config.py
import datetime
import pytz 
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# === Telegram Bot Token ===
BOT_TOKEN = "7759872103:AAFYDOohOBmIc3XithiuVwpbMA9OB-XD_Yw"  # –í–ê–® –¢–û–ö–ï–ù

# === Admin Configuration ===
ADMIN_USER_IDS = [5965363034] 
ADMIN_NOTIFICATION_CHAT_ID = None  # –û—Ç–∫–ª—é—á–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É

# === Links ===
MAIN_CHANNEL_LINK = "https://t.me/sexandmind" 
# Channel ID (use @username_to_id_bot to get it if needed)
MAIN_CHANNEL_ID = "@sexandmind"  # This might need to be the numeric ID if @ prefix doesn't work
ADMIN_CONTACT_USERNAME = "GoidaSegun" 

# === Daily Content Timing (UTC) ===
# –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—Ç—Ä–µ–Ω–Ω–µ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ (UTC) - 09:00 MSK (06:00 UTC)
MORNING_PRACTICE_TIME_UTC = datetime.time(hour=6, minute=0, tzinfo=pytz.UTC)
# –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ—á–µ—Ä–Ω–µ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ (UTC) - 18:00 MSK (15:00 UTC)
EVENING_PRACTICE_TIME_UTC = datetime.time(hour=15, minute=0, tzinfo=pytz.UTC)

# === Day 3 test offer times (in UTC as string) ===
DAY3_KEY_TEST_OFFER_MORNING_UTC = datetime.time(hour=6, minute=0, tzinfo=pytz.UTC)  # 09:00 MSK
DAY3_KEY_TEST_OFFER_EVENING_UTC = datetime.time(hour=15, minute=0, tzinfo=pytz.UTC)  # 18:00 MSK

# === Test Offering Days ===
TEST_OFFER_DAYS = [3, 5, 7, 9, 11, 13]
KEY_TEST_ID = "gender_selector"

# === Consultation Payment ===
CONSULTATION_PRICE = 5000  # –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
PAYMENT_LINK = "https://www.tinkoff.ru/rm/r_YlujHwdHxX.WmqISDwRzN/a5XDV14317"
PAYMENT_QR_CODE_PATH = "payment_qr.png"

# === Other Settings ===
ONBOARDING_VIDEO_NOTE_FILE_ID = "DQACAgIAAxkBAAIJ_GZgB2Pz82u9v0gWBb0s4u8yBAwvAAJgPQAC9GZBSAMj3YJp6qGYNQQ"
ONBOARDING_VIDEO_DURATION_SECONDS = 55

# === Email (SMTP) Configuration ===
EMAIL_SENDER_NAME = "–ö–æ–º–∞–Ω–¥–∞ Sexandmind"
EMAIL_HOST_USER = "sexandmind@bk.ru"
EMAIL_HOST_PASSWORD = "62kWyXCWa63990nfzJAC"  # –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è sexandmind@bk.ru
EMAIL_HOST = "smtp.mail.ru"  # SMTP –¥–ª—è Mail.ru Group (–≤–∫–ª—é—á–∞—è bk.ru)
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_USE_SSL = False

# === Texts for Bot (Gender Neutral) ===
WELCOME_TEXT = (
    "–ü—Ä–∏–≤–µ—Ç! \n"
    "–° —Ç–æ–±–æ–π –¢–∞–º–∞—Ä–∞ –∏ –ì–∞–ª–∏–Ω–∞.\n\n"
    "–ú—ã –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–µ–±—è –Ω–∞ –ø—É—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–πüîù\n"
    "–¢—ã –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–¥–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—åüí¨\n"
    "–û–Ω–∏ –ø–æ–º–æ–≥—É—Ç —Ç–µ–±–µ –æ–±—Ä–µ—Å—Ç–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, \n"
    "—Ä–∞—Å–∫—Ä—ã—Ç—å —Å–≤–æ—é —Å–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –¥–≤–∏–≥–∞—Ç—å—Å—è –Ω–∞ –≤—Å—Ç—Ä–µ—á—É –∫ –º–µ—á—Ç–∞–º.\n"
    "–¢—ã –æ–±—Ä–µ—Ç–µ—à—å –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Å–µ–±–µ, —Ç–µ–ª—É –∏ –±–ª–∏–∑–æ—Å—Ç–∏.\n\n"
    "–í –Ω–∞—à–µ–º –±–æ—Ç–µ —Ç–µ–±—è –∂–¥—É—Ç —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –ª—É—á—à–µ —É–∑–Ω–∞—Ç—å —Å–µ–±—è.\n\n"
    "–¢–∞–∫ –∂–µ —Ç—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—à—å –∑–∞—Ä–∞–Ω–µ–µ —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–∞—à–∏—Ö –æ–Ω–ª–∞–π–Ω –≤—Å—Ç—Ä–µ—á–∞—Ö, \n"
    "–≥–¥–µ –º—ã –≤ –ø—Ä—è–º–æ–º —ç—Ñ–∏—Ä–µ –±—É–¥–µ–º –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã üì¢"
)

# –¢–µ–∫—Å—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
MENU_TEXT = (
    "üìñ *–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é*\n\n"
    "–ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–ª–∏ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –Ω–∞—à–µ–º –∫–∞–Ω–∞–ª–µ.\n"
    "–í—ã–±–µ—Ä–∏, —á—Ç–æ —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! ‚ú®"
)

SUBSCRIBE_BUTTON_TEXT = "‚ú® –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏"
MAIN_CHANNEL_BUTTON_TEXT = "–ê —á—Ç–æ —É –≤–∞—Å –≤ –≥–ª–∞–≤–Ω–æ–º –∫–∞–Ω–∞–ª–µ? ‚û°Ô∏è"

SUBSCRIPTION_SUCCESS_TEXT = (
    "–¢—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ ü§ñ\n"
    "–ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–æ–±–æ–π –ø–æ—Ä–æ–π –±—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ üò£\n"
    "–ü–æ—ç—Ç–æ–º—É –º—ã –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏ –ø—Ä–æ—Å—Ç—ã—Ö –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —à–∞–≥–∞—Ö üìç\n"
    "–¢–∞–∫ –Ω–µ–±–æ–ª—å—à–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏–¥—Ç–∏ –∫ —Å–≤–æ–∏–º –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–ºüéØ \n"
    "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ —Ç—ã –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º—ã—à–ª–µ–Ω–∏–µ–º üß† –∏ —á—Ç–æ–±—ã –∑–∞—Ä—è–¥–∏—Ç—å—Å—è –±–æ–¥—Ä–æ—Å—Ç—å—é –Ω–∞ —Ü–µ–ª—ã–π –¥–µ–Ω—å,\n"
    "–∞ –≤–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –¥–Ω—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ —Ç–µ–ª–µ—Å–Ω–æ—Å—Ç—å –∏ —Å–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å ‚ú®\n"
    "–ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏, –∑–∞–∫—Ä–µ–ø–∏ –±–æ—Ç–∞ üìå –∏ –≤–∫–ª—é—á–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ –∑–≤—É–∫–æ–º üîä\n\n"
    "–ó–¥–µ—Å—å –µ—â–µ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–∑–≤—É–∫ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ) –∏ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –±–æ—Ç –Ω–∞–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:"
)
SUBSCRIPTION_ALREADY_ACTIVE_TEXT = "–¢—ã —É–∂–µ –Ω–∞—à(–∞) –≤–æ–ª—à–µ–±–Ω–∏–∫(—Ü–∞)! üí´ –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ, –≤—Å—ë –∏–¥–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! üòâ"
UNSUBSCRIBE_TEXT = "–ñ–∞–ª—å —Ä–∞—Å—Å—Ç–∞–≤–∞—Ç—å—Å—è... üò¢ –¢—ã –æ—Ç–ø–∏—Å–∞–ª—Å—è(–ª–∞—Å—å) –æ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –º–∞–≥–∏–∏. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–µ—à—å, —è –≤—Å–µ–≥–¥–∞ –∑–¥–µ—Å—å ‚Äì –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ /start –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è! –£–¥–∞—á–∏ –∏ —Å–≤–µ—Ç–∞! üå∏"
UNSUBSCRIBE_NOT_SUBSCRIBED_TEXT = "–ö–∞–∂–µ—Ç—Å—è, —Ç—ã –µ—â–µ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω(–∞) –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏. –•–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å? –ù–∞–∂–º–∏ /start."

TEST_INTRO_TEXT_TEMPLATE = "üîÆ –í—Ä–µ–º—è –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ —Å–µ–±—è! –•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –∫–æ–µ-—á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –æ —Å–≤–æ–µ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–∞ ¬´{test_name}¬ª?"
TEST_BUTTON_YES_TEXT = "‚ú® –î–∞, —Ö–æ—á—É –ø—Ä–æ–π—Ç–∏!"
TEST_BUTTON_NO_TEXT = "–ü–æ–∑–∂–µ, —Å–ø–∞—Å–∏–±–æ üå∏"
NO_TESTS_AVAILABLE_TEXT = "–ü–æ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ—Ç, –Ω–æ –æ–Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—è–≤—è—Ç—Å—è! ‚è≥ –°–ª–µ–¥–∏ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏!"
SELECT_TEST_TEXT = "–í—ã–±–µ—Ä–∏ —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–∫—Ä–æ–µ—Ç —Ç–≤–æ–∏ –Ω–æ–≤—ã–µ –≥—Ä–∞–Ω–∏:"

EMAIL_REQUEST_TEXT = "üéâ –°—É–ø–µ—Ä! –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω! üíå\n–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ü–û–õ–ù–£–Æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É —Å —Å–æ—á–Ω—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ –ø—Ä—è–º–æ –Ω–∞ –ø–æ—á—Ç—É, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–≤–æ–π email –Ω–∏–∂–µ üëá"
EMAIL_INVALID_TEXT = "–û–π, –∫–∞–∂–µ—Ç—Å—è, —ç—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ—Ö–æ–∂–µ –Ω–∞ email... üôà –ü–æ–ø—Ä–æ–±—É–µ—à—å –µ—â–µ —Ä–∞–∑–æ–∫, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞? üòä"

EMAIL_SENT_SUCCESS_TEXT = "üíå –û—Ç–ª–∏—á–Ω–æ! –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ —É–∂–µ –ª–µ—Ç—è—Ç –Ω–∞ —Ç–≤–æ—é –ø–æ—á—Ç—É {user_email}. –ü—Ä–æ–≤–µ—Ä—è–π –≤—Ö–æ–¥—è—â–∏–µ (–∏ –ø–∞–ø–∫—É '–°–ø–∞–º', –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π üòâ)!"
EMAIL_SENT_FAILURE_TEXT = "–û–π, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞ –Ω–∞ {user_email}... üò• –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑ —á—É—Ç—å –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º @{admin_username}, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è."

CONSULTATION_OFFER_BUTTON_YES_TEXT = f"–î–∞, —Ö–æ—á—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é ({CONSULTATION_PRICE}‚ÇΩ) üíñ"
CONSULTATION_OFFER_BUTTON_NO_TEXT = "–°–ø–∞—Å–∏–±–æ, –Ω–µ —Å–µ–π—á–∞—Å üôè"
CONSULTATION_OFFER_BUTTON_THINK_LATER_TEXT = "–ú–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å... ü§î"

CONSULTATION_DECLINED_TEXT = "–ü–æ–Ω–∏–º–∞—é —Ç–µ–±—è! ü•∞ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏–ª–∏ –ø–æ—è–≤—è—Ç—Å—è –≤–æ–ø—Ä–æ—Å–∏–∫–∏ ‚Äì —è —Ç—É—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞–π –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏! üíñ"
CONSULTATION_THINK_LATER_TEXT = (
    "–ö–æ–Ω–µ—á–Ω–æ, –≤—Ä–µ–º—è –ø–æ–¥—É–º–∞—Ç—å ‚Äì —ç—Ç–æ –≤–∞–∂–Ω–æ! üßò‚Äç‚ôÄÔ∏è\n"
    "–Ø –±—É–¥—É —Ä—è–¥–æ–º –∏ –ø—Ä–æ–¥–æ–ª–∂—É –ø—Ä–∏—Å—ã–ª–∞—Ç—å —Ç–µ–±–µ —É—Ç—Ä–µ–Ω–Ω–∏–µ –ª—É—á–∏–∫–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è. ‚òÄÔ∏è\n"
    "–ï—Å–ª–∏ —Ä–µ—à–∏—à—å—Å—è –Ω–∞ –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ —Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞—à–µ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É @{admin_username}. –û–Ω–∞ –≤—Å—ë –ø–æ–¥—Å–∫–∞–∂–µ—Ç! üòâ"
)
DAY14_FORCED_TEST_PROMPT_TEXT = (
    "üå∑ –î–≤–µ –Ω–µ–¥–µ–ª–∏ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –ø—Ä–æ–ª–µ—Ç–µ–ª–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ! –ù–∞–¥–µ—é—Å—å, —ç—Ç–∏ –¥–Ω–∏ –Ω–∞–ø–æ–ª–Ω–∏–ª–∏ —Ç–µ–±—è —Å–≤–µ—Ç–æ–º –∏ —Ç–µ–ø–ª–æ–º. ‚ú®\n"
    "–ß—Ç–æ–±—ã –Ω–∞—à–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å—Ç–∞–ª–æ –µ—â–µ –≥–ª—É–±–∂–µ, –ø—Ä–µ–¥–ª–∞–≥–∞—é —Ç–µ–±–µ –æ—Å–æ–±–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç ¬´{test_name}¬ª. –î–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –µ–≥–æ —É–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª(–∞), —Å–µ–π—á–∞—Å –æ–Ω –º–æ–∂–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å—Å—è –ø–æ-–Ω–æ–≤–æ–º—É! "
    "–ï–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Äì —ç—Ç–æ –∫–ª—é—á–∏–∫ –∫ —Å–∞–º–æ–º—É –≤–∞–∂–Ω–æ–º—É –¥–ª—è —Ç–≤–æ–µ–≥–æ —Å–∏—è–Ω–∏—è. üóùÔ∏èüíñ"
)
DAY14_FORCED_TEST_BUTTON_TEXT = "‚ú® –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç —Å–µ–π—á–∞—Å!"